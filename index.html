<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Hawaiʻi Names Project</title>

<link rel="icon" href="clean-favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="clean-favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="clean-favicon-16.png">
<link rel="apple-touch-icon" sizes="180x180" href="clean-favicon-180.png">

<!-- Leaflet CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>

<style>
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:#f7f7f7;
    color:#222;
  }

  /* =========================
     NAVIGATION (Option A)
     Desktop: normal horizontal links
     Mobile: hamburger menu
     ========================= */

  nav{
    background:#fff;
    border-bottom:1px solid #ddd;
  }

  .nav-inner{
    max-width:1200px;
    margin:0 auto;
    padding:14px 18px;
    display:flex;
    align-items:center;
    justify-content:center; /* centered links on desktop */
    position:relative;
  }

  /* Desktop links */
  .nav-links{
    display:flex;
    gap:40px;
    font-weight:600;
  }

  nav a{
    text-decoration:none;
    color:#222;
  }

  nav a:hover{
    color:#2b6cb0;
  }

  /* Hamburger + mobile menu */
  .nav-toggle{
    /* keep it in DOM for toggle; visually hidden below */
    position:absolute;
    opacity:0;
    width:1px;
    height:1px;
  }

  .hamburger{
    display:none; /* shown on mobile */
    position:absolute;
    right:18px;
    top:50%;
    transform:translateY(-50%);
    cursor:pointer;
    border:0;
    background:transparent;
    padding:10px;
  }

  .hamburger span{
    display:block;
    width:24px;
    height:2px;
    background:#222;
    margin:5px 0;
  }

  .mobile-menu{
    display:none; /* shown when toggled on mobile */
    border-top:1px solid #eee;
    background:#fff;
  }

  .mobile-menu a{
    display:block;
    padding:14px 18px;
    border-bottom:1px solid #f0f0f0;
    font-weight:600;
  }

  .mobile-menu a:last-child{
    border-bottom:none;
  }

  /* When checkbox is checked, show menu (works because input is sibling of .mobile-menu) */
  #nav-toggle:checked ~ .mobile-menu{
    display:block;
  }

  /* Mobile breakpoint */
  @media (max-width: 768px){
    .nav-inner{
      justify-content:flex-start; /* leave room for hamburger */
    }

    .nav-links{
      display:none; /* hide desktop links */
    }

    .hamburger{
      display:block;
    }
  }

  /* =========================
     BANNER
     ========================= */

  .hero-banner{
    width:100%;
    background:white;
    display:flex;
    justify-content:center;
    padding:30px 0;
  }

  .hero-banner img{
    width:600px;
    max-width:90%;
    height:auto;
  }

  /* TAGLINE */
  .tagline{
    text-align:center;
    padding:30px 20px;
    font-size:1.2rem;
    background:white;
  }

  /* FILTER SECTION */
  .filters{
    text-align:center;
    padding:20px;
    background:white;
    border-top:1px solid #eee;
    border-bottom:1px solid #eee;
  }

  .filters label{
    margin:0 10px;
  }

  /* MAP (Leaflet container) */
  .map{
    height:500px;   /* mobile/tablet default */
    width:100%;
  }

  /* Desktop: make it dominate more */
  @media (min-width:1024px){
    .map{
      height:750px; /* ~50% taller */
    }
  }

  /* Leaflet custom controls */
  .leaflet-control.custom-btn a{
    display:flex;
    align-items:center;
    justify-content:center;
    width:34px;
    height:34px;
    text-decoration:none;
    font-weight:700;
    color:#222;
    background:#fff;
  }

  .leaflet-control.custom-btn a:hover{
    background:#f3f3f3;
  }

  /* Fullscreen behavior */
  #map.is-fullscreen{
    position:fixed !important;
    inset:0 !important;
    height:auto !important;
    width:auto !important;
    z-index:9999;
  }

  body.map-fullscreen{
    overflow:hidden;
  }

  /* SECTION GRID */
  .section{
    padding:60px 20px;
    max-width:1200px;
    margin:auto;
  }

  .section h2{
    text-align:center;
    margin-bottom:40px;
  }

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap:30px;
  }

  .card{
    background:white;
    padding:20px;
    border-radius:6px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
  }

  .card h3{
    margin-top:0;
  }

  /* Read link styling */
  .card a{
    display:inline-block;
    text-decoration:none;
    font-weight:700;
    color:#2b6cb0;
    margin-top:10px;
  }

  .card a:hover{
    text-decoration:underline;
  }

  .footer{
    background:white;
    text-align:center;
    padding:40px 0;
    border-top:1px solid #ddd;
    margin-top:60px;
    font-weight:600;
    font-size:1.1rem;
  }

  .footer a{
    text-decoration:none;
    color:#222;
    margin:0 20px;
  }

  .footer a:hover{
    color:#2b6cb0;
  }
</style>
</head>

<body>

<!-- NAV (Option A) -->
<nav>
  <!-- IMPORTANT: input must be sibling of .mobile-menu for the CSS selector to work -->
  <input class="nav-toggle" type="checkbox" id="nav-toggle" />

  <div class="nav-inner">
    <!-- Desktop nav links -->
    <div class="nav-links">
      <a href="#">Home</a>
      <a href="places-we-lost.html">Places We Lost</a>
      <a href="place-name-profiles.html">Place Name Profiles</a>
      <a href="stories.html">Stories</a>
    </div>

    <!-- Hamburger button (label toggles checkbox) -->
    <label class="hamburger" for="nav-toggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </label>
  </div>

  <!-- Mobile menu -->
  <div class="mobile-menu">
    <a href="#">Home</a>
    <a href="places-we-lost.html">Places We Lost</a>
    <a href="place-name-profiles.html">Place Name Profiles</a>
    <a href="stories.html">Stories</a>
  </div>
</nav>

<div class="hero-banner">
  <img src="Banner.jpg" alt="Hawaiʻi Place Names Banner">
</div>

<div class="tagline">
  <p>Explore the stories behind the names that shape our islands.</p>
</div>

<div class="filters">
  <strong>Filter by:</strong><br><br>
  <label><input type="checkbox"> Places We Lost</label>
  <label><input type="checkbox"> Random Pin</label>
</div>

<!-- Leaflet map container -->
<div id="map" class="map"></div>

<div class="section">
  <h2>Places We Lost</h2>
  <div class="grid">
    <div class="card">
      <h3>Aloha Stadium</h3>
      <p>The heartbeat of statewide gatherings.</p>
      <a href="pwl-aloha-stadium.html">Read</a>
    </div>

    <div class="card">
      <h3>Wahaʻula Heiau</h3>
      <p>Buried beneath lava, but not forgotten.</p>
      <a href="pwl-wahaula-heiau.html">Read</a>
    </div>
  </div>
</div>

<div class="section">
  <h2>Place Name Profiles</h2>
  <div class="grid">
    <div class="card">
      <h3>ʻIolani Palace</h3>
      <p>A royal name that endured.</p>
    </div>
    <div class="card">
      <h3>Parker Ranch</h3>
      <p>Land, legacy, and cattle.</p>
    </div>
  </div>
</div>

<div class="section">
  <h2>Stories</h2>
  <div class="grid">
    <div class="card">
      <h3>How Does One Own an Island?</h3>
      <p>Power, land, and identity.</p>
    </div>

    <div class="card">
      <h3>Kaʻahumanu Broke the Mold</h3>
      <p>Power, reform, and the reshaping of the Hawaiian Kingdom.</p>
      <a href="story-kaahumanu.html">Read</a>
    </div>
  </div>
</div>

<footer class="footer">
  <a href="about.html">About</a> |
  <a href="contact.html">Contact Us</a>
</footer>

<!-- Leaflet JS + map init -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // --- Default "home" view ---
  var HOME_CENTER = [20.8, -157.5];
  var HOME_ZOOM = 7;

  var map = L.map('map', {
    zoomControl: true,
    scrollWheelZoom: false
  }).setView(HOME_CENTER, HOME_ZOOM);

  // --- Base layers ---
  var streets = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  });

  // Satellite (Esri World Imagery)
  var satellite = L.tileLayer(
    'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
    { attribution: 'Tiles &copy; Esri' }
  );

  streets.addTo(map);

  // Layer toggle control (top-right)
  L.control.layers(
    { "Streets": streets, "Satellite": satellite },
    null,
    { position: "topright" }
  ).addTo(map);

  // --- Custom control: Reset/Home ---
  var HomeControl = L.Control.extend({
    options: { position: 'topleft' },
    onAdd: function () {
      var container = L.DomUtil.create('div', 'leaflet-control custom-btn');
      var link = L.DomUtil.create('a', '', container);
      link.href = '#';
      link.title = 'Reset view';
      link.innerHTML = '⟲';

      L.DomEvent.disableClickPropagation(container);
      L.DomEvent.on(link, 'click', function (e) {
        L.DomEvent.preventDefault(e);
        map.setView(HOME_CENTER, HOME_ZOOM);
      });

      return container;
    }
  });
  map.addControl(new HomeControl());

  // --- Fullscreen toggle helper ---
  function setFullscreen(on){
    var mapEl = document.getElementById('map');

    if(on){
      document.body.classList.add('map-fullscreen');
      mapEl.classList.add('is-fullscreen');

      // enable scroll wheel zoom ONLY when fullscreen on desktop
      if(window.innerWidth >= 1024){
        map.scrollWheelZoom.enable();
      }

      // tell Leaflet to recalc size after layout change
      setTimeout(function(){ map.invalidateSize(); }, 150);
    } else {
      document.body.classList.remove('map-fullscreen');
      mapEl.classList.remove('is-fullscreen');

      map.scrollWheelZoom.disable();
      setTimeout(function(){ map.invalidateSize(); }, 150);
    }
  }

  function isFullscreen(){
    return document.getElementById('map').classList.contains('is-fullscreen');
  }

  // --- Custom control: Fullscreen button ---
  var FullscreenControl = L.Control.extend({
    options: { position: 'topleft' },
    onAdd: function () {
      var container = L.DomUtil.create('div', 'leaflet-control custom-btn');
      var link = L.DomUtil.create('a', '', container);
      link.href = '#';
      link.title = 'Toggle fullscreen';
      link.innerHTML = '⛶';

      L.DomEvent.disableClickPropagation(container);
      L.DomEvent.on(link, 'click', function (e) {
        L.DomEvent.preventDefault(e);
        setFullscreen(!isFullscreen());
      });

      return container;
    }
  });
  map.addControl(new FullscreenControl());

  // ESC exits fullscreen
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && isFullscreen()){
      setFullscreen(false);
    }
  });

  // Keep wheel zoom behavior sane on resize
  window.addEventListener('resize', function(){
    if(isFullscreen()){
      if(window.innerWidth >= 1024) map.scrollWheelZoom.enable();
      else map.scrollWheelZoom.disable();
    }
  });
</script>

</body>
</html>
